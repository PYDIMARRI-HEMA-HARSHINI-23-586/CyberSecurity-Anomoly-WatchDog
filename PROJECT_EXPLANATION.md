# CyberSecurity-Anomaly-WatchDog: Project Explanation for Judges

## 1. Project Title & Overview

**Project Name:** CyberSecurity-Anomaly-WatchDog

**Core Purpose:** This project demonstrates a real-time cybersecurity anomaly detection system. It processes a continuous stream of simulated log data to identify various security threats and presents these anomalies through an interactive, modern web-based dashboard. The system is designed to provide immediate insights into potential security incidents.

## 2. Core Technologies Used

*   **Backend (Python):**
    *   **Flask:** A lightweight web framework used to build the RESTful API.
    *   **Pathway:** A real-time data processing framework that enables continuous anomaly detection on streaming data.
    *   **Pandas:** Used by the Flask API to read and process CSV files generated by Pathway.
    *   **`json`, `uuid`:** Python standard libraries for handling JSON data and generating unique identifiers for rules and notifications.
*   **Frontend (React.js):**
    *   **React:** A JavaScript library for building user interfaces.
    *   **Material-UI (MUI):** A comprehensive React UI framework implementing Google's Material Design, providing polished and responsive components.
    *   **React Router:** Used for declarative routing within the single-page application, enabling navigation between different views (Dashboard, Visualizations, Log Viewer, etc.).
    *   **Recharts:** A charting library built with React and D3, used for creating interactive data visualizations.

## 3. Architecture

The system is composed of several interconnected components, designed for real-time data flow and modularity:

*   **Log Generator (`log_generator.py`):**
    *   **Role:** This Python script simulates a continuous stream of security log data.
    *   **Mechanism:** It generates random log entries (e.g., `user_id`, `location`, `timestamp`, `login_success`) and continuously appends them to `logs.csv`. This `logs.csv` file acts as our real-time data stream source.

*   **Anomaly Detection Rules (`rule*.py`, `fail_success.py`):**
    *   **Role:** These are individual Python scripts that leverage the **Pathway** framework.
    *   **Mechanism:** Each script reads the `logs.csv` file in streaming mode. Pathway's capabilities allow these scripts to continuously monitor the incoming log data, apply specific anomaly detection logic (e.g., failed logins, logins from blacklisted locations, impossible travel), and output detected anomalies to separate CSV files (e.g., `failed_logins.csv`, `failed_rule2.csv`). These outputs are also updated in real-time.

*   **Backend API (`api.py`):**
    *   **Role:** A Flask server that acts as the central data hub for the frontend.
    *   **Mechanism:**
        *   It exposes RESTful API endpoints (e.g., `/api/rule1`, `/api/logs`) that read the latest content from the various anomaly CSV files and `logs.csv`.
        *   It provides CRUD (Create, Read, Update, Delete) API endpoints for managing custom anomaly detection rules (`/api/rules`) and notification configurations (`/api/notifications`), storing them in `custom_rules.json` and `notification_configs.json` respectively.
        *   It handles Cross-Origin Resource Sharing (CORS) to allow the frontend to communicate with it.

*   **Frontend (`frontend/` - React Application):**
    *   **Role:** The user interface for interacting with the system.
    *   **Mechanism:**
        *   A React single-page application (SPA) built with Material-UI for a modern look and feel.
        *   Uses React Router for navigation between different views (Dashboard, Visualizations, Log Viewer, Rule Management, Notification Management).
        *   Continuously polls the Flask API endpoints to fetch the latest anomaly data, log data, and configuration data, updating the UI in real-time.

## 4. Key Features & Implementation Details

*   **Real-time Anomaly Detection:**
    *   **Concept:** The core of the system, identifying security threats as they occur.
    *   **Implementation:** Achieved using the Pathway framework in dedicated Python scripts (`rule*.py`). Pathway's streaming capabilities ensure that as `log_generator.py` writes new data, the rules immediately process it and update their respective anomaly CSVs.

*   **Web Dashboard (Main View):**
    *   **Concept:** Provides an immediate overview of all detected anomalies.
    *   **Implementation:** The main dashboard (`src/pages/Dashboard.js`) displays a series of `AnomalyRuleCard` components. Each card (`src/components/AnomalyRuleCard.js`) fetches data from a specific anomaly API endpoint (e.g., `/api/rule1`) and presents it in a Material-UI table (`src/components/AnomalyTable.js`), updating every 10 seconds.

*   **Interactive Visualizations:**
    *   **Concept:** Summarizes anomaly data visually to help identify trends and patterns quickly.
    *   **Implementation:** A dedicated "Visualizations" page (`src/pages/Visualizations.js`) houses the `Charts` component (`src/components/Charts.js`). This component uses the Recharts library to display a bar chart showing the count of anomalies per rule, fetching data from the API every 10 seconds.

*   **Real-time Log Viewer:**
    *   **Concept:** Allows users to inspect the raw, incoming log data as it's being generated.
    *   **Implementation:** The "Log Viewer" page (`src/pages/LogViewer.js`) fetches the content of `logs.csv` from the `/api/logs` endpoint every 2 seconds and displays it in a formatted, scrollable view.

*   **Custom Rule Management:**
    *   **Concept:** Provides an interface for users to define, store, and manage their own anomaly detection rules.
    *   **Implementation:** The "Rule Management" page (`src/pages/RuleManagement.js`) offers a Material-UI form and a list to perform CRUD operations (Create, Read, Update, Delete) on rule definitions. These definitions (name, condition, action) are stored in `custom_rules.json` via the `/api/rules` endpoints in `api.py`.
    *   **Note for Judges:** While the system allows for the *definition* and *storage* of custom rules, the actual dynamic application of these user-defined rules to the real-time Pathway data stream is a complex next step that would involve modifying the Pathway processing logic to interpret and execute these rules. This feature lays the groundwork for a highly customizable detection system.

*   **Notification Configuration Management:**
    *   **Concept:** Enables users to define how and where they want to be notified when anomalies are detected.
    *   **Implementation:** The "Notification Management" page (`src/pages/NotificationManagement.js`) provides a Material-UI form and a list for CRUD operations on notification configurations. These configurations (type, recipient, message template) are stored in `notification_configs.json` via the `/api/notifications` endpoints in `api.py`.
    *   **Note for Judges:** Similar to custom rules, this feature focuses on the *management* of notification preferences. The actual integration with external services (e.g., sending real emails via SendGrid, posting to Slack) is a conceptual next step that would require handling sensitive API keys and external service integrations, which are beyond the scope of this interactive demonstration.

## 5. How to Run the Project

To see the system in action, you need to run three components concurrently in separate terminal windows:

1.  **Log Generator:**
    ```bash
    python log_generator.py
    ```
    (This will continuously update `logs.csv`)

2.  **Anomaly Detection Rules:**
    ```bash
    # Activate virtual environment first
    source venv/bin/activate
    # Run one or more rule scripts (e.g., for failed logins)
    python rule1.py
    # You can open another terminal and run other rules like:
    # python rule2.py
    # python rule3.py
    ```
    (These will continuously process `logs.csv` and update anomaly CSVs)

3.  **Web Dashboard (API & Frontend):**
    *   **Backend API:**
        ```bash
        # Activate virtual environment first
        source venv/bin/activate
        python api.py
        ```
    *   **Frontend Application:**
        ```bash
        cd frontend
        npm start
        ```
    (The dashboard will then be accessible in your browser at `http://localhost:3000`)

## 6. Future Enhancements / Roadmap

*   **Dynamic Rule Application:** Implement the logic within the Pathway framework to dynamically load and apply user-defined rules from `custom_rules.json` to the real-time log stream.
*   **Real Notification Integration:** Integrate with actual email services (e.g., SendGrid), messaging platforms (e.g., Slack), or SMS services (e.g., Twilio) to send real-time alerts based on configured notifications.
*   **User Authentication & Authorization:** Re-implement robust user authentication with roles and permissions to control access to different features and data.
*   **Advanced Visualizations:** Incorporate more sophisticated charts, such as geographical maps for login locations, time-series graphs for anomaly frequency, and customizable dashboards.
*   **Machine Learning-based Anomaly Detection:** Explore integrating ML models (e.g., for outlier detection, behavioral analytics) into the Pathway stream for more advanced anomaly identification.
*   **Improved Log Filtering/Search:** Add advanced search, filtering, and pagination capabilities to the Real-time Log Viewer.
*   **Persistence Layer:** Replace JSON files (`custom_rules.json`, `notification_configs.json`, `users.json`) with a proper database (e.g., SQLite, PostgreSQL) for better scalability and data integrity.
